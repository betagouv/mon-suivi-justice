<h1 class='form-title'><%= t('edit_place_title') %></h1>
<%= simple_form_for @place, html: { class: 'edit-place-form' } do |f| %>
  <div class='edit-place-data-container'>
    <%= f.input :name %>
    <%= f.input :place_type, collection: Place.place_types.keys,
                             label_method: lambda {|k| t("simple_form.options.place.place_type.#{k}")},
                             input_html: { class: 'form-select' } %>
    <%= f.input :adress %>
    <%= f.input :phone, input_html: { value: @place.display_phone } %>
    <%= f.button :submit, t('submit'), class: 'form-submit-button' %>
  </div>
<% end %>

<h2 class='form-secondary-title'><%= t('edit_place_agendas') %></h2>
<% @place.agendas.each do |agenda| %>
  <%= simple_form_for agenda, html: { class: 'edit-place-form' } do |form| %>
    <div class='edit-place-data-container'>
      <%= form.hidden_field :place_id, value: @place.id %>
      <%= form.input :name %>
      <%= form.button :submit, t('edit_place_update_agenda'), class: 'form-submit-button' %>
    </div>
    <div class='edit-place-cta-container'>
      <%= link_to t('edit_place_slot_types_agenda'), agenda_slot_types_path(agenda) %> |
      <%= link_to t('edit_place_delete_agenda'), agenda_path(agenda), method: :delete %>
    </div>
  <% end %>
<% end %>
<div class='edit-place-new-agenda-container'>
  <%= simple_form_for Agenda.new(place: @place), html: { class: 'edit-place-form' } do |form| %>
    <div class='edit-place-data-container'>
      <%= form.hidden_field :place_id, value: @place.id %>
      <%= form.input :name %>
      <%= form.button :submit, t('edit_place_add_agenda'), class: 'form-submit-button' %>
    </div>
  <% end %>
</div>
